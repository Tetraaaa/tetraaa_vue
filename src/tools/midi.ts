export const NOTES = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"]
export const NOTES_LATIN = ["Do", "Do#", "Ré", "Ré#", "Mi", "Fa", "Fa#", "Sol", "Sol#", "La", "La#", "Si"]

export const MIDI_KEYS_MAPPING = [
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    {
        "midiIndex": 21,
        "latinNotation": "La0",
        "englishNotation": "A0"
    },
    {
        "midiIndex": 22,
        "latinNotation": "La#0",
        "englishNotation": "A#0"
    },
    {
        "midiIndex": 23,
        "latinNotation": "Si0",
        "englishNotation": "B0"
    },
    {
        "midiIndex": 24,
        "latinNotation": "Do1",
        "englishNotation": "C1"
    },
    {
        "midiIndex": 25,
        "latinNotation": "Do#1",
        "englishNotation": "C#1"
    },
    {
        "midiIndex": 26,
        "latinNotation": "Ré1",
        "englishNotation": "D1"
    },
    {
        "midiIndex": 27,
        "latinNotation": "Ré#1",
        "englishNotation": "D#1"
    },
    {
        "midiIndex": 28,
        "latinNotation": "Mi1",
        "englishNotation": "E1"
    },
    {
        "midiIndex": 29,
        "latinNotation": "Fa1",
        "englishNotation": "F1"
    },
    {
        "midiIndex": 30,
        "latinNotation": "Fa#1",
        "englishNotation": "F#1"
    },
    {
        "midiIndex": 31,
        "latinNotation": "Sol1",
        "englishNotation": "G1"
    },
    {
        "midiIndex": 32,
        "latinNotation": "Sol#1",
        "englishNotation": "G#1"
    },
    {
        "midiIndex": 33,
        "latinNotation": "La1",
        "englishNotation": "A1"
    },
    {
        "midiIndex": 34,
        "latinNotation": "La#1",
        "englishNotation": "A#1"
    },
    {
        "midiIndex": 35,
        "latinNotation": "Si1",
        "englishNotation": "B1"
    },
    {
        "midiIndex": 36,
        "latinNotation": "Do2",
        "englishNotation": "C2"
    },
    {
        "midiIndex": 37,
        "latinNotation": "Do#2",
        "englishNotation": "C#2"
    },
    {
        "midiIndex": 38,
        "latinNotation": "Ré2",
        "englishNotation": "D2"
    },
    {
        "midiIndex": 39,
        "latinNotation": "Ré#2",
        "englishNotation": "D#2"
    },
    {
        "midiIndex": 40,
        "latinNotation": "Mi2",
        "englishNotation": "E2"
    },
    {
        "midiIndex": 41,
        "latinNotation": "Fa2",
        "englishNotation": "F2"
    },
    {
        "midiIndex": 42,
        "latinNotation": "Fa#2",
        "englishNotation": "F#2"
    },
    {
        "midiIndex": 43,
        "latinNotation": "Sol2",
        "englishNotation": "G2"
    },
    {
        "midiIndex": 44,
        "latinNotation": "Sol#2",
        "englishNotation": "G#2"
    },
    {
        "midiIndex": 45,
        "latinNotation": "La2",
        "englishNotation": "A2"
    },
    {
        "midiIndex": 46,
        "latinNotation": "La#2",
        "englishNotation": "A#2"
    },
    {
        "midiIndex": 47,
        "latinNotation": "Si2",
        "englishNotation": "B2"
    },
    {
        "midiIndex": 48,
        "latinNotation": "Do3",
        "englishNotation": "C3"
    },
    {
        "midiIndex": 49,
        "latinNotation": "Do#3",
        "englishNotation": "C#3"
    },
    {
        "midiIndex": 50,
        "latinNotation": "Ré3",
        "englishNotation": "D3"
    },
    {
        "midiIndex": 51,
        "latinNotation": "Ré#3",
        "englishNotation": "D#3"
    },
    {
        "midiIndex": 52,
        "latinNotation": "Mi3",
        "englishNotation": "E3"
    },
    {
        "midiIndex": 53,
        "latinNotation": "Fa3",
        "englishNotation": "F3"
    },
    {
        "midiIndex": 54,
        "latinNotation": "Fa#3",
        "englishNotation": "F#3"
    },
    {
        "midiIndex": 55,
        "latinNotation": "Sol3",
        "englishNotation": "G3"
    },
    {
        "midiIndex": 56,
        "latinNotation": "Sol#3",
        "englishNotation": "G#3"
    },
    {
        "midiIndex": 57,
        "latinNotation": "La3",
        "englishNotation": "A3"
    },
    {
        "midiIndex": 58,
        "latinNotation": "La#3",
        "englishNotation": "A#3"
    },
    {
        "midiIndex": 59,
        "latinNotation": "Si3",
        "englishNotation": "B3"
    },
    {
        "midiIndex": 60,
        "latinNotation": "Do4",
        "englishNotation": "C4"
    },
    {
        "midiIndex": 61,
        "latinNotation": "Do#4",
        "englishNotation": "C#4"
    },
    {
        "midiIndex": 62,
        "latinNotation": "Ré4",
        "englishNotation": "D4"
    },
    {
        "midiIndex": 63,
        "latinNotation": "Ré#4",
        "englishNotation": "D#4"
    },
    {
        "midiIndex": 64,
        "latinNotation": "Mi4",
        "englishNotation": "E4"
    },
    {
        "midiIndex": 65,
        "latinNotation": "Fa4",
        "englishNotation": "F4"
    },
    {
        "midiIndex": 66,
        "latinNotation": "Fa#4",
        "englishNotation": "F#4"
    },
    {
        "midiIndex": 67,
        "latinNotation": "Sol4",
        "englishNotation": "G4"
    },
    {
        "midiIndex": 68,
        "latinNotation": "Sol#4",
        "englishNotation": "G#4"
    },
    {
        "midiIndex": 69,
        "latinNotation": "La4",
        "englishNotation": "A4"
    },
    {
        "midiIndex": 70,
        "latinNotation": "La#4",
        "englishNotation": "A#4"
    },
    {
        "midiIndex": 71,
        "latinNotation": "Si4",
        "englishNotation": "B4"
    },
    {
        "midiIndex": 72,
        "latinNotation": "Do5",
        "englishNotation": "C5"
    },
    {
        "midiIndex": 73,
        "latinNotation": "Do#5",
        "englishNotation": "C#5"
    },
    {
        "midiIndex": 74,
        "latinNotation": "Ré5",
        "englishNotation": "D5"
    },
    {
        "midiIndex": 75,
        "latinNotation": "Ré#5",
        "englishNotation": "D#5"
    },
    {
        "midiIndex": 76,
        "latinNotation": "Mi5",
        "englishNotation": "E5"
    },
    {
        "midiIndex": 77,
        "latinNotation": "Fa5",
        "englishNotation": "F5"
    },
    {
        "midiIndex": 78,
        "latinNotation": "Fa#5",
        "englishNotation": "F#5"
    },
    {
        "midiIndex": 79,
        "latinNotation": "Sol5",
        "englishNotation": "G5"
    },
    {
        "midiIndex": 80,
        "latinNotation": "Sol#5",
        "englishNotation": "G#5"
    },
    {
        "midiIndex": 81,
        "latinNotation": "La5",
        "englishNotation": "A5"
    },
    {
        "midiIndex": 82,
        "latinNotation": "La#5",
        "englishNotation": "A#5"
    },
    {
        "midiIndex": 83,
        "latinNotation": "Si5",
        "englishNotation": "B5"
    },
    {
        "midiIndex": 84,
        "latinNotation": "Do6",
        "englishNotation": "C6"
    },
    {
        "midiIndex": 85,
        "latinNotation": "Do#6",
        "englishNotation": "C#6"
    },
    {
        "midiIndex": 86,
        "latinNotation": "Ré6",
        "englishNotation": "D6"
    },
    {
        "midiIndex": 87,
        "latinNotation": "Ré#6",
        "englishNotation": "D#6"
    },
    {
        "midiIndex": 88,
        "latinNotation": "Mi6",
        "englishNotation": "E6"
    },
    {
        "midiIndex": 89,
        "latinNotation": "Fa6",
        "englishNotation": "F6"
    },
    {
        "midiIndex": 90,
        "latinNotation": "Fa#6",
        "englishNotation": "F#6"
    },
    {
        "midiIndex": 91,
        "latinNotation": "Sol6",
        "englishNotation": "G6"
    },
    {
        "midiIndex": 92,
        "latinNotation": "Sol#6",
        "englishNotation": "G#6"
    },
    {
        "midiIndex": 93,
        "latinNotation": "La6",
        "englishNotation": "A6"
    },
    {
        "midiIndex": 94,
        "latinNotation": "La#6",
        "englishNotation": "A#6"
    },
    {
        "midiIndex": 95,
        "latinNotation": "Si6",
        "englishNotation": "B6"
    },
    {
        "midiIndex": 96,
        "latinNotation": "Do7",
        "englishNotation": "C7"
    },
    {
        "midiIndex": 97,
        "latinNotation": "Do#7",
        "englishNotation": "C#7"
    },
    {
        "midiIndex": 98,
        "latinNotation": "Ré7",
        "englishNotation": "D7"
    },
    {
        "midiIndex": 99,
        "latinNotation": "Ré#7",
        "englishNotation": "D#7"
    },
    {
        "midiIndex": 100,
        "latinNotation": "Mi7",
        "englishNotation": "E7"
    },
    {
        "midiIndex": 101,
        "latinNotation": "Fa7",
        "englishNotation": "F7"
    },
    {
        "midiIndex": 102,
        "latinNotation": "Fa#7",
        "englishNotation": "F#7"
    },
    {
        "midiIndex": 103,
        "latinNotation": "Sol7",
        "englishNotation": "G7"
    },
    {
        "midiIndex": 104,
        "latinNotation": "Sol#7",
        "englishNotation": "G#7"
    },
    {
        "midiIndex": 105,
        "latinNotation": "La7",
        "englishNotation": "A7"
    },
    {
        "midiIndex": 106,
        "latinNotation": "La#7",
        "englishNotation": "A#7"
    },
    {
        "midiIndex": 107,
        "latinNotation": "Si7",
        "englishNotation": "B7"
    },
    {
        "midiIndex": 108,
        "latinNotation": "Do8",
        "englishNotation": "C8"
    },
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null,
    null
]
export const PIANO_ROLL = MIDI_KEYS_MAPPING.filter(k => k !==null).filter(k => !k.englishNotation.includes("#"))


export function isMidiNote(keyIndex: number) {
    //Les codes MIDI hors de cet intervalle ne correspondent pas à des notes sur le piano mais sont souvent mappés à des boutons sur le synthétiseur
    return keyIndex >= 21 && keyIndex <= 108
}

export function midiIndexToNote(keyIndex: number): Note {
    const key = MIDI_KEYS_MAPPING[keyIndex]
    if(!key) return MIDI_KEYS_MAPPING[60]!
    return key
}

export type Note = {latinNotation:string, englishNotation:string, midiIndex:number}
